<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIGER - Wild Animals</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body class="animal-page">
    
    <div class="animal-hero">
        <img src="../assets/images/animals/tiger.png" alt="TIGER" class="animal-hero-image" id="heroImage" 
             onerror="this.src='https://via.placeholder.com/1920x1080/1a1a1a/ffffff?text=TIGER'">
        <div class="animal-hero-overlay"></div>
        
        <div class="animal-hero-content" id="heroContent">
            <h1 class="animal-name">TIGER</h1>
            <div class="animal-scientific">panthera tigris</div>
            <p class="animal-description">
                Tigers are the largest members of the cat family, once roaming widely across Asia from Turkey to the Russian Far East. Today, their territory has shrunk by over 95%, leaving fragmented populations scattered in 13 countries. Fewer than 5,000 tigers remain in the wild, their survival threatened by relentless poaching for skins and body parts, shrinking forests cleared for agriculture, and growing conflict with humans. Every loss diminishes the balance of ecosystems where they serve as apex predators. Unless urgent protection continues and expands, the world's most iconic striped hunters may vanish forever, slipping silently into extinction.
            </p>
            
            <style>
                .animal-controls {
                    display: flex;
                    justify-content: space-between; /* left + right alignment */
                    margin-bottom: 10px; /* spacing between rows */
                }

                .control-btn {
                    padding: 8px 14px;
                    border: none;
                    border-radius: 8px;
                    cursor: pointer;
                }

                .control-btn:hover {
                    background: #ddd;
                }

                .hear-btn {
                    align-self: flex-start;
                }

                .watch-btn {
                    align-self: flex-end;
                }
            </style>   

            <!-- Tiger roar + video -->
            <div class="animal-controls">
                <button class="control-btn hear-btn roar-btn" data-label="HEAR" onclick="playSound('roar')">
                    <span>üîä</span> HEAR
                </button>
                <a href="https://www.youtube.com/watch?v=ja4GNdU2vYc" target="_blank" class="control-btn watch-btn">
                    <span>‚ñ∂</span> WATCH
                </a>
            </div>

            <!-- Hindi & English narration -->
            <div class="animal-controls">
                <button class="control-btn hear-btn hindi-btn" data-label="‡§π‡§ø‡§Ç‡§¶‡•Ä" onclick="playSound('hindi')">
                    <span>üîä</span> ‡§π‡§ø‡§Ç‡§¶‡•Ä
                </button>
                <button class="control-btn hear-btn english-btn" data-label="English" onclick="playSound('english')">
                    <span>üîä</span> English
                </button>
            </div>
        </div>
    </div>

    <!-- Audio files -->
    <audio id="roarSound" preload="metadata">
        <source src="../assets/audio/tiger.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <audio id="hindiSound" preload="metadata">
        <source src="../assets/audio/tigerhindi.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <audio id="englishSound" preload="metadata">
        <source src="../assets/audio/tigerenglish.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        // Animation for image + content
        document.addEventListener('DOMContentLoaded', function() {
            const heroImage = document.getElementById('heroImage');
            const heroContent = document.getElementById('heroContent');
            
            function handleImageLoad() {
                heroImage.classList.add('loaded');
                setTimeout(() => {
                    heroContent.classList.add('loaded');
                }, 200);
            }
            
            if (heroImage.complete) {
                handleImageLoad();
            } else {
                heroImage.addEventListener('load', handleImageLoad);
                heroImage.addEventListener('error', handleImageLoad);
            }
        });

        // Audio player for multiple buttons
        function playSound(type) {
            const audioMap = {
                roar: document.getElementById('roarSound'),
                hindi: document.getElementById('hindiSound'),
                english: document.getElementById('englishSound')
            };

            const button = document.querySelector(`.${type}-btn`);
            const audio = audioMap[type];

            // Stop all other audios
            Object.keys(audioMap).forEach(key => {
                if (key !== type) {
                    audioMap[key].pause();
                    audioMap[key].currentTime = 0;
                    const otherBtn = document.querySelector(`.${key}-btn`);
                    if (otherBtn) {
                        otherBtn.innerHTML = `<span>üîä</span> ${otherBtn.dataset.label}`;
                    }
                }
            });

            // Toggle play/pause
            if (audio.paused) {
                audio.play().then(() => {
                    button.innerHTML = '<span>‚è∏</span> PAUSE';
                }).catch(error => {
                    console.error('Error playing audio:', error);
                    alert('Audio file not found.');
                });
            } else {
                audio.pause();
                button.innerHTML = `<span>üîä</span> ${button.dataset.label}`;
            }

            audio.onended = function() {
                button.innerHTML = `<span>üîä</span> ${button.dataset.label}`;
            };
        }
    </script>
</body>
</html>
