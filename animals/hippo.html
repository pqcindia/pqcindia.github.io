<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIPPO - Wild Animals</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body class="animal-page">
    
    <div class="animal-hero">
        <img src="../assets/images/animals/hippo.png" alt="TIGER" class="animal-hero-image" id="heroImage" 
             onerror="this.src='https://via.placeholder.com/1920x1080/1a1a1a/ffffff?text=TIGER'">
        <div class="animal-hero-overlay"></div>
        
        <div class="animal-hero-content" id="heroContent">
            <h1 class="animal-name">HIPPOPOTAMUS</h1>
            <div class="animal-scientific">hippopotamus amphibius</div>
            <p class="animal-description">
The hippopotamus, often seen wallowing in rivers across sub-Saharan Africa, is one of the world‚Äôs largest land mammals. Despite their bulky appearance, hippos are agile in water, relying on rivers and wetlands to survive. They play a vital ecological role, helping shape waterways and supporting biodiversity. Yet, their numbers are steadily declining. Habitat loss, driven by human expansion and climate pressures, threatens the wetlands they depend on. Additionally, illegal hunting for ivory-like teeth and meat has placed immense strain on populations. Once widespread, hippos now face a future of uncertainty, teetering closer to endangerment if conservation efforts falter.            </p>
            
            <style>
                .animal-controls {
                    display: flex;
                    justify-content: space-between; /* left + right alignment */
                    margin-bottom: 10px; /* spacing between rows */
                }

                .control-btn {
                    padding: 8px 14px;
                    border: none;
                    border-radius: 8px;
                    cursor: pointer;
                }

                .control-btn:hover {
                    background: #ddd;
                }

                .hear-btn {
                    align-self: flex-start;
                }

                .watch-btn {
                    align-self: flex-end;
                }
            </style>   

            <!-- Tiger roar + video -->
            <div class="animal-controls">
                <button class="control-btn hear-btn roar-btn" data-label="HEAR" onclick="playSound('roar')">
                    <span>üîä</span> HEAR
                </button>
                <a href="https://www.youtube.com/watch?v=S_kq5a-bu4w" target="_blank" class="control-btn watch-btn">
                    <span>‚ñ∂</span> WATCH
                </a>
            </div>

            <!-- Hindi & English narration -->
            <div class="animal-controls">
                <button class="control-btn hear-btn hindi-btn" data-label="‡§π‡§ø‡§Ç‡§¶‡•Ä" onclick="playSound('hindi')">
                    <span>üîä</span> ‡§π‡§ø‡§Ç‡§¶‡•Ä
                </button>
                <button class="control-btn hear-btn english-btn" data-label="English" onclick="playSound('english')">
                    <span>üîä</span> English
                </button>
            </div>
        </div>
    </div>

    <!-- Audio files -->
    <audio id="roarSound" preload="metadata">
        <source src="../assets/audio/hippo.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <audio id="hindiSound" preload="metadata">
        <source src="../assets/audio/hippohindi.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <audio id="englishSound" preload="metadata">
        <source src="../assets/audio/hippoenglish.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        // Animation for image + content
        document.addEventListener('DOMContentLoaded', function() {
            const heroImage = document.getElementById('heroImage');
            const heroContent = document.getElementById('heroContent');
            
            function handleImageLoad() {
                heroImage.classList.add('loaded');
                setTimeout(() => {
                    heroContent.classList.add('loaded');
                }, 200);
            }
            
            if (heroImage.complete) {
                handleImageLoad();
            } else {
                heroImage.addEventListener('load', handleImageLoad);
                heroImage.addEventListener('error', handleImageLoad);
            }
        });

        // Audio player for multiple buttons
        function playSound(type) {
            const audioMap = {
                roar: document.getElementById('roarSound'),
                hindi: document.getElementById('hindiSound'),
                english: document.getElementById('englishSound')
            };

            const button = document.querySelector(`.${type}-btn`);
            const audio = audioMap[type];

            // Stop all other audios
            Object.keys(audioMap).forEach(key => {
                if (key !== type) {
                    audioMap[key].pause();
                    audioMap[key].currentTime = 0;
                    const otherBtn = document.querySelector(`.${key}-btn`);
                    if (otherBtn) {
                        otherBtn.innerHTML = `<span>üîä</span> ${otherBtn.dataset.label}`;
                    }
                }
            });

            // Toggle play/pause
            if (audio.paused) {
                audio.play().then(() => {
                    button.innerHTML = '<span>‚è∏</span> PAUSE';
                }).catch(error => {
                    console.error('Error playing audio:', error);
                    alert('Audio file not found.');
                });
            } else {
                audio.pause();
                button.innerHTML = `<span>üîä</span> ${button.dataset.label}`;
            }

            audio.onended = function() {
                button.innerHTML = `<span>üîä</span> ${button.dataset.label}`;
            };
        }
    </script>
</body>
</html>