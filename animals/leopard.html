<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEOPARD - Wild Animals</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body class="animal-page">
    
    <div class="animal-hero">
        <img src="../assets/images/animals/leopard.png" alt="TIGER" class="animal-hero-image" id="heroImage" 
             onerror="this.src='https://via.placeholder.com/1920x1080/1a1a1a/ffffff?text=TIGER'">
        <div class="animal-hero-overlay"></div>
        
        <div class="animal-hero-content" id="heroContent">
            <h1 class="animal-name">LEOPARD</h1>
            <div class="animal-scientific">panthera pardus</div>
            <br><br><br>
            <p class="animal-description">
The leopard, with its golden coat and rosette patterns, is one of the most adaptable big cats, ranging from African savannas to Asian forests and mountains. Stealthy and powerful, it plays a crucial role in balancing ecosystems by regulating prey populations. Yet leopards face mounting threats. Expanding human settlements and agriculture fragment their habitats, forcing them into conflict with people and livestock. Poaching for skins and body parts further erodes their numbers. Though still widespread, many local populations are shrinking rapidly. Without stronger conservation measures and corridors to connect habitats, the leopard‚Äôs elusive silhouette may grow increasingly rare in the wild.            </p>
            
            <style>
                .animal-controls {
                    display: flex;
                    justify-content: space-between; /* left + right alignment */
                    margin-bottom: 10px; /* spacing between rows */
                }

                .control-btn {
                    padding: 8px 14px;
                    border: none;
                    border-radius: 8px;
                    cursor: pointer;
                }

                .control-btn:hover {
                    background: #ddd;
                }

                .hear-btn {
                    align-self: flex-start;
                }

                .watch-btn {
                    align-self: flex-end;
                }
            </style>   

            <!-- Tiger roar + video -->
            <div class="animal-controls">
                <button class="control-btn hear-btn roar-btn" data-label="HEAR" onclick="playSound('roar')">
                    <span>üîä</span> HEAR
                </button>
                <a href="https://www.youtube.com/watch?v=yRxzj5ChF8g" target="_blank" class="control-btn watch-btn">
                    <span>‚ñ∂</span> WATCH
                </a>
            </div>

            <!-- Hindi & English narration -->
            <div class="animal-controls">
                <button class="control-btn hear-btn hindi-btn" data-label="‡§π‡§ø‡§Ç‡§¶‡•Ä" onclick="playSound('hindi')">
                    <span>üîä</span> ‡§π‡§ø‡§Ç‡§¶‡•Ä
                </button>
                <button class="control-btn hear-btn english-btn" data-label="English" onclick="playSound('english')">
                    <span>üîä</span> English
                </button>
            </div>
        </div>
    </div>

    <!-- Audio files -->
    <audio id="roarSound" preload="metadata">
        <source src="../assets/audio/leopard.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <audio id="hindiSound" preload="metadata">
        <source src="../assets/audio/leopardhindi.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <audio id="englishSound" preload="metadata">
        <source src="../assets/audio/leopardenglish.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        // Animation for image + content
        document.addEventListener('DOMContentLoaded', function() {
            const heroImage = document.getElementById('heroImage');
            const heroContent = document.getElementById('heroContent');
            
            function handleImageLoad() {
                heroImage.classList.add('loaded');
                setTimeout(() => {
                    heroContent.classList.add('loaded');
                }, 200);
            }
            
            if (heroImage.complete) {
                handleImageLoad();
            } else {
                heroImage.addEventListener('load', handleImageLoad);
                heroImage.addEventListener('error', handleImageLoad);
            }
        });

        // Audio player for multiple buttons
        function playSound(type) {
            const audioMap = {
                roar: document.getElementById('roarSound'),
                hindi: document.getElementById('hindiSound'),
                english: document.getElementById('englishSound')
            };

            const button = document.querySelector(`.${type}-btn`);
            const audio = audioMap[type];

            // Stop all other audios
            Object.keys(audioMap).forEach(key => {
                if (key !== type) {
                    audioMap[key].pause();
                    audioMap[key].currentTime = 0;
                    const otherBtn = document.querySelector(`.${key}-btn`);
                    if (otherBtn) {
                        otherBtn.innerHTML = `<span>üîä</span> ${otherBtn.dataset.label}`;
                    }
                }
            });

            // Toggle play/pause
            if (audio.paused) {
                audio.play().then(() => {
                    button.innerHTML = '<span>‚è∏</span> PAUSE';
                }).catch(error => {
                    console.error('Error playing audio:', error);
                    alert('Audio file not found.');
                });
            } else {
                audio.pause();
                button.innerHTML = `<span>üîä</span> ${button.dataset.label}`;
            }

            audio.onended = function() {
                button.innerHTML = `<span>üîä</span> ${button.dataset.label}`;
            };
        }
    </script>
</body>
</html>